<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RB PRO LİG - Puan Durumu</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        table { width: 90%; margin: 20px auto; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #1a2a6c; color: white; }
        tr:nth-child(even) { background-color: #f0f0f0; }
        .input-container { margin-top: 20px; }
        input, select { padding: 5px; margin: 5px; }
        button { padding: 8px 12px; font-size: 16px; cursor: pointer; }
    </style>
</head>
<body>

<h1>RB PRO LİG - Puan Durumu</h1>

<table id="teamTable">
    <thead>
        <tr>
            <th>Sıra</th>
            <th>Takım</th>
            <th>O</th>
            <th>G</th>
            <th>B</th>
            <th>M</th>
            <th>AG</th>
            <th>YG</th>
            <th>Av</th>
            <th>Puan</th>
        </tr>
    </thead>
    <tbody id="teamBody"></tbody>
</table>

<h2>Takım Yönetimi</h2>
<div class="input-container">
    <label>Yeni Takım Adı:</label>
    <input type="text" id="newTeamName" placeholder="Takım Adı">
    <button onclick="addTeam()">Takım Ekle</button>
</div>

<div class="input-container">
    <label>Takım Sil:</label>
    <select id="removeTeamSelect"></select>
    <button onclick="removeTeam()">Takım Sil</button>
</div>

<h2>Maç Sonucu Girin</h2>
<div class="input-container">
    <label>Takım 1:</label>
    <select id="team1Select"></select>

    <label>Takım 2:</label>
    <select id="team2Select"></select>

    <br>
    <label>Takım 1 Skoru:</label>
    <input type="number" id="team1Score" value="0">

    <label>Takım 2 Skoru:</label>
    <input type="number" id="team2Score" value="0">

    <button onclick="updateScore()">Skoru Güncelle</button>
    <button onclick="resetScores()">Puanları Sıfırla</button>
</div>

<script>
    let teams = JSON.parse(localStorage.getItem("teams")) || [
        "Paris Saint-Germain", "Chelsea", "Liverpool"
    ];

    function populateTable() {
        const tableBody = document.getElementById("teamBody");
        tableBody.innerHTML = "";
        teams.forEach((team, index) => {
            let teamData = JSON.parse(localStorage.getItem(team)) || {games: 0, wins: 0, draws: 0, losses: 0, goals: 0, conceded: 0, goalDiff: 0, points: 0};
            let row = `<tr id="${team}">
                <td>${index + 1}</td>
                <td>${team}</td>
                <td class="games">${teamData.games}</td>
                <td class="wins">${teamData.wins}</td>
                <td class="draws">${teamData.draws}</td>
                <td class="losses">${teamData.losses}</td>
                <td class="goals">${teamData.goals}</td>
                <td class="conceded">${teamData.conceded}</td>
                <td class="goalDiff">${teamData.goalDiff}</td>
                <td class="points">${teamData.points}</td>
            </tr>`;
            tableBody.innerHTML += row;
        });
    }

    function populateDropdowns() {
        const team1Select = document.getElementById("team1Select");
        const team2Select = document.getElementById("team2Select");
        const removeSelect = document.getElementById("removeTeamSelect");

        team1Select.innerHTML = "";
        team2Select.innerHTML = "";
        removeSelect.innerHTML = "";

        teams.forEach(team => {
            let option = `<option value="${team}">${team}</option>`;
            team1Select.innerHTML += option;
            team2Select.innerHTML += option;
            removeSelect.innerHTML += option;
        });
    }

    function addTeam() {
        const newTeam = document.getElementById("newTeamName").value.trim();
        if (!newTeam || teams.includes(newTeam)) {
            alert("Lütfen geçerli ve yeni bir takım adı girin!");
            return;
        }

        teams.push(newTeam);
        localStorage.setItem("teams", JSON.stringify(teams));
        localStorage.setItem(newTeam, JSON.stringify({games: 0, wins: 0, draws: 0, losses: 0, goals: 0, conceded: 0, goalDiff: 0, points: 0}));

        populateTable();
        populateDropdowns();
        alert(`${newTeam} başarıyla eklendi!`);
        document.getElementById("newTeamName").value = "";
    }

    function removeTeam() {
        const removeTeam = document.getElementById("removeTeamSelect").value;
        teams = teams.filter(team => team !== removeTeam);
        localStorage.setItem("teams", JSON.stringify(teams));
        localStorage.removeItem(removeTeam);

        populateTable();
        populateDropdowns();
        alert(`${removeTeam} başarıyla silindi!`);
    }

    window.onload = function() {
        populateTable();
        populateDropdowns();
    };
</script>

</body>
</html>
